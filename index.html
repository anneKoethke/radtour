<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biergärten um Regensburg</title>
    <link rel="stylesheet" href="./res/style/style.css">
  </head>
  <body>
    
    <!-- MAP: map, hidden-div, legend -->
    <div id="map-container">
      
      <div id="map"></div>
      
      <div id="hidden-div">
        <div class="perma-marker" id="hbf-marker"></div>
        <div id="popup" title="Welcome to OpenLayers"></div>
      </div>
      
      <div id="legend">
        <h3 id="legend-h3">Kartenlegende</h3>
        <div id="legend-inner-container">
          <p id="info-row">Auf der Karte wird die Radl-Entfernung zwischen Regensburger Hauptbahnhof (roter Punkt) und den diversen Biergärten anhand der unterschiedlichen Farben dargestellt:</p>
          <div class="legend-rows">
            <div>
              <div class="marker-legend" id="MZ-lightblue"></div>
              <p class="legend-p">weniger als 10 km</p>
            </div>
            <div>
              <div class="marker-legend" id="MZ-lightgray"></div>
              <p class="legend-p">10 bis 29 km</p>
            </div>
            <div>
              <div class="marker-legend" id="MZ-midblue"></div>
              <p class="legend-p">30 bis 49 km</p>
            </div>
            <div>
              <div class="marker-legend" id="MZ-darkblue"></div>
              <p class="legend-p">50 bis 75 km</p>
            </div>
            <div>
              <div class="marker-legend" id="MZ-darkgray"></div>
              <p class="legend-p">mehr als 75 km</p>
            </div>
          </div>
        </div>        
      </div>
    </div>

    <div id="popup-container"></div>

    <script type="text/template" id="pop">
      <div class="popup" id="popup-<%= id%>">
        <div class="popup-row">
          <h2 class="popup-title"><%= Name %></h2>
          <p class="close" id="closeBtn">X</P>
        </div>
        <!-- Beispielbild "klonk.png" CC0-lizensiert von "https://www.unsplash.com/photos/gvm_Kmm3-9o" >>> @quentindrphotography -->
        <img src="<%= Foto %>" alt="foto" width="250px" height="auto">
        <p class="bildnachweis">Foto: <%=Bildnachweis%></p>
        <p class="adr"><%= Straße %>,<br><%= PLZ %> <%= Ort %></p>
        <p>Öffnungszeiten:<br> <%= Öffnungszeiten%></p>
        <div class="popup-link-row">
          <a class="popup-link" title="<%= Telefon %>" href="tel:<%= Telefon %>">Tel</a>
          <a class="popup-link" title="<%= Mail %>" href="mailto:<%= Mail %>">E-Mail</a>
          <a class="popup-link" href="<%= url %>" target="_blank">www</a>
        </div>
        <p>Durchschnittliche Distanz vom Regensburger Hbf: <span><%= Distanz %> km</span>.</p>
        <div class="popup-single-item">
          <!-- 
            from "https://developers.google.com/maps/documentation/urls/guide", last checked 16th July 2019:
              - "You don't need a Google API key to use Maps URLs."
              - "Important: The parameter api=1 identifies the version of Maps URLs this URL is intended for. This parameter is required in every request. The only valid value is 1. If api=1 is NOT present in the URL, all parameters are ignored (...)."
          -->
          <a class="popup-link" href="https://www.google.com/maps/dir/?api=1&origin=Regensburg+Hauptbahnhof&destination=<%= Straße %>+<%= PLZ %>+<%= Ort %>&travelmode=bicycling" target="_blank">Radroute anzeigen</a>
        </div>
        <p class="link-info">(öffnet externen Link zu Google Maps)</p>
        
      </div>
    </script>


    <script type="text/javascript" src="./index.js"></script>
  </body>
</html>